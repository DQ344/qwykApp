{"version":3,"sources":["pages/register/register.uvue","pages/healthQuestion/healthQuestion.uvue?type=page","components/showWindow/showWindow.uvue","pages/login/login.uvue?type=page","utils/utils.uts","pages/register/register.uvue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"validateCode\">\r\n\t\t<image class=\"bg-img\" src=\"../../static/image/bg/bg_6.png\" mode=\"widthFix\"></image>\r\n\t\t<view class=\"window flex flex-column  align-center\">\r\n\t\t\t<view class=\"top flex align-center\">\r\n\t\t\t\t<image src=\"../../static/image/login/chacha.png\" mode=\"widthFix\" style=\"width: 36rpx;margin-right: 10rpx;\"></image>\r\n\t\t\t\t<text class=\"title\">注册并登录</text>\r\n\t\t\t</view>\r\n\t\t\t<input v-model=\"registerLoginInfo.password\" class=\"uni-input space\" placeholder=\"密码:必须包含英文,数字\" />\r\n\t\t\t<input v-model=\"registerLoginInfo.code\" class=\"uni-input space\" placeholder=\"验证码\" />\r\n\t\t\t<button class=\"space btn\" hover-class=\"btn-is-hover\" @click=\"clickRegiter\">注册并登录</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport type { IToken } from \"@/common/type/user.uts\"\r\n\timport type { IResponse } from \"@/common/type/http.uts\"\r\n\timport { BASE_URL } from \"@/config/index.uts\"\r\n\t\r\n\ttype registerLoginInfoType = {\r\n\t\ttel:string\r\n\t\tpassword: string\r\n\t\tcode: string\r\n\t}\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tregisterLoginInfo: {\r\n\t\t\t\t\ttel: '',  // 手机号\r\n\t\t\t\t\tpassword: '',  // 密码\r\n\t\t\t\t\tcode: '',   // 验证码\r\n\t\t\t\t} as registerLoginInfoType\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tclickRegiter() {\r\n\t\t\t\tif(this.registerLoginInfo.tel.length <= 0) return \r\n\t\t\t\t\r\n\t\t\t\tconsole.log(this.registerLoginInfo)\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '登陆中'\r\n\t\t\t\t})\r\n\t\t\t\tuni.request<IResponse<IToken>>({\r\n\t\t\t\t\turl: BASE_URL + '/user/login/register',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttel: this.registerLoginInfo.tel,  \r\n\t\t\t\t\t\tpassword: this.registerLoginInfo.password,  \r\n\t\t\t\t\t\tcode: this.registerLoginInfo.code,   \r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet r = res.data\r\n\t\t\t\t\t\tif(r == null) return\r\n\t\t\t\t\t\tconsole.log('注册登录返回信息', r);\r\n\t\t\t\t\t\tif(r!.code == 200) {\r\n\t\t\t\t\t\t\tconsole.log(r);\r\n\t\t\t\t\t\t\tuni.setStorageSync('token', r!.data!.token)\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/healthQuestion/healthQuestion'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: r.message,\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"网络超时\",\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete:() => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconsole.log(options)\r\n\t\t\tthis.registerLoginInfo.tel = options[\"tel\"] ?? \"\"\r\n\t\t\tthis.registerLoginInfo.code = options[\"code\"] ?? \"\"\r\n\t\t\tconsole.log(this.registerLoginInfo)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.validateCode {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: $uni-bg-color;\r\n\t\t.bg-img {\r\n\t\t\twidth: 650rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translateX(-50%);\r\n\t\t\tbottom: -12%;\r\n\t\t}\r\n\t\t.window {\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\twidth: 650rpx;\r\n\t\t\theight: 566rpx;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tmargin: 300rpx auto 0 auto;\r\n\t\t\tbackground-color: rgba(255, 255, 255, 0.6);\r\n\t\t\tborder-radius: 48rpx;\r\n\r\n\t\t\t.space {\r\n\t\t\t\tmargin-bottom: 62rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.top {\r\n\t\t\t\twidth: 600rpx;\r\n\t\t\t\tmargin-bottom: 64rpx;\r\n\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: $uni-font-size-lg;\r\n\t\t\t\t\tcolor: #937152;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.uni-input {\r\n\t\t\t\twidth: 600rpx;\r\n\t\t\t\theight: 76rpx;\r\n\t\t\t\tborder-radius: 32rpx;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t\tpadding-left: 10px;\r\n\t\t\t\tfont-size: $uni-font-size-sm;\r\n\t\t\t\tbackground-color: $uni-bg-color;\r\n\t\t\t}\r\n\r\n\t\t\t.uni-input::placeholder {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tmargin-left: 100rpx;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\t\r\n\t.btn {\r\n\t\twidth: 600rpx;\r\n\t\theight: 76rpx;\r\n\t\tborder-radius: 32rpx;\r\n\t\tcolor: #fff;\r\n\t\tline-height: 76rpx;\r\n\t\tbackground-color: #b19983;\r\n\t}\r\n\t.btn-is-hover {\r\n\t\tbackground-color: #94806e;\r\n\t}\r\n</style>",null,null,null,null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;;+BAgEQ;;+BAVG;;;;;eA8BT,IAAO,sBAAO,EAAE;YACf,QAAQ,GAAG,CAAC,SAAO;YACnB,IAAI,CAAC,iBAAiB,CAAC,GAAE,GAAI,OAAO,CAAC,MAAK,IAAK;YAC/C,IAAI,CAAC,iBAAiB,CAAC,IAAG,GAAI,OAAO,CAAC,OAAM,IAAK;YACjD,QAAQ,GAAG,CAAC,IAAI,CAAC,iBAAiB,EAAA;QACnC;;;;;;;eAxFD,mBAWO,QAAA,SAXD,WAAM,iBAAc;YACzB,mBAAmF,SAAA,SAA5E,WAAM,UAAS,SAAI,6BAAiC,UAAK;YAChE,mBAQO,QAAA,SARD,WAAM,yCAAuC;gBAClD,mBAGO,QAAA,SAHD,WAAM,0BAAuB;oBAClC,mBAAmH,SAAA,SAA5G,SAAI,kCAAsC,UAAK,YAAW,WAAyC,eAAzC,SAAA,WAAA,SAAA,kBAAA;oBACjE,mBAAgC,QAAA,SAA1B,WAAM,UAAQ;;gBAErB,mBAAiG,SAAA,yBAAjF,KAAA,iBAAiB,CAAC,QAAQ;oBAA1B,KAAA,iBAAiB,CAAC,QAAQ,GAAA,SAAA,MAAA,CAAA,KAAA;gBAAA;kBAAE,WAAM,mBAAkB,iBAAY;;;;gBAChF,mBAAoF,SAAA,yBAApE,KAAA,iBAAiB,CAAC,IAAI;oBAAtB,KAAA,iBAAiB,CAAC,IAAI,GAAA,SAAA,MAAA,CAAA,KAAA;gBAAA;kBAAE,WAAM,mBAAkB,iBAAY;;;;gBAC5E,mBAAyF,UAAA,SAAjF,WAAM,aAAY,iBAAY,gBAAgB,aAAO,KAAA,YAAY,GAAE,SAAK,CAAA,EAAA;oBAAA;iBAAA;;;;aAmB/E,mBAIK;;;wBAJL,6CACC,MAAK,IACL,WAAU,IACV,OAAM;;;aAKR,eAAA,MAAe;YACd,IAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,MAAK,IAAK,CAAC;gBAAE;;YAE3C,QAAQ,GAAG,CAAC,IAAI,CAAC,iBAAiB,EAAA;YAClC,mCACC,QAAO;YAER,8CACC,MAAK,WAAW,wBAChB,SAAQ,QACR,OAAM;;oBACL,IAAA,MAAK,GAAK,iBAAiB,CAAC,GAAG;oBAC/B,IAAA,WAAU,GAAK,iBAAiB,CAAC,QAAQ;oBACzC,IAAA,OAAM,GAAK,iBAAiB,CAAC,IAAI;;aACjC,EACD,UAAS,IAAC,IAAQ;gBACjB,IAAI,IAAI,IAAI,IAAG;gBACf,IAAG,KAAK,IAAI;oBAAE;;gBACd,QAAQ,GAAG,CAAC,YAAY,GAAE;gBAC1B,IAAG,IAAG,IAAG,IAAK,GAAG,EAAE;oBAClB,QAAQ,GAAG,CAAC,GAAE;oBACd,mBAAmB,SAAS,IAAG,IAAI,GAAE,KAAK;oBAC1C,iCACC,MAAK;gBAEP,OAAO;oBACN,+BACC,QAAO,EAAE,OAAO,EAChB,OAAM;gBAER;YAED;cACA,OAAM,IAAC,IAAQ;gBACd,QAAQ,GAAG,CAAC,KAAI;gBAChB,+BACC,QAAO,QACP,OAAM;YAER;cACA,WAAS,MAAM;gBACd;YACD;;QAGF;;;sBA7CA"}