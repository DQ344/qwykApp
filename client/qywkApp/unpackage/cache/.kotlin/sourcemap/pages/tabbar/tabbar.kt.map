{"version":3,"sources":["pages/tabbar/tabbar.uvue","pages/tabbar/tabbar.uvue?type=page"],"sourcesContent":["<template>\r\n\r\n\t<scroll-view style=\"flex:1\">\r\n\r\n\t<image v-show=\"isShowGif\" class=\"gif center\" style=\"width: 100%; bottom: 2%;\" src=\"/static/animate/leaf_animate.gif\" mode=\"widthFix\"></image>\r\n\t<image v-show=\"isShowGif\" class=\"gif center\" style=\"width: 60%; bottom: 38%;\" src=\"/static/animate/energy_animate.gif\" mode=\"widthFix\"></image>\r\n\t<view v-show=\"tabIndex == 0\">\r\n\t\t<showWindow></showWindow>\r\n\t</view>\r\n\t<view v-show=\"tabIndex == 1\">\r\n\t\t<community></community>\r\n\t</view>\t\r\n\t<view v-show=\"tabIndex == 2\">\r\n\t\t<home></home>\r\n\t</view>\t\r\n\t<view v-show=\"tabIndex == 3\">\r\n\t\t<healthComponent></healthComponent>\r\n\t</view>\t\r\n\t<view v-show=\"tabIndex == 4\">\r\n\t\t<myPage></myPage>\r\n\t</view>\r\n\t\r\n\t\t<view class=\"tabbar\">\r\n\t\t\t<view class=\"tab-item\" @click=\"changeTab(0)\">\r\n\t\t\t\t<image class=\"tab-icon\" :src=\"0 === tabIndex ? tabs[0].selectedIcon : tabs[0].unselectedIcon\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text :class=\"['tab-text', 0 === tabIndex ? 'active-text' : '']\">{{ tabs[0].name }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item\" @click=\"changeTab(1)\">\r\n\t\t\t\t<image class=\"tab-icon\" :src=\"1 === tabIndex ? tabs[1].selectedIcon : tabs[1].unselectedIcon\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text :class=\"['tab-text', 1 === tabIndex ? 'active-text' : '']\">{{ tabs[1].name }}</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"tab-item animate-base\" :class=\"[acAnimate]\" @touchstart=\"handlerTouchstart\" @touchmove=\"handlerTouchmove\" @touchend=\"handlerTouchend\" :style=\"[tabIndex == 2 ? 'display: visible;' : 'display: none;']\">\r\n\t\t\t\t<view class=\"bg-img\">\r\n\t\t\t\t\t<image style=\"width: 160rpx;\" :src=\"tabs[2].selectedIcon\" mode=\"widthFix\" v-if=\"!isShowGif\"></image>\r\n\t\t\t\t\t<image style=\"width: 200%;\" src=\"/static/animate/tabbar_animate.gif\" mode=\"widthFix\" v-else></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item\" @click=\"changeTab(2)\" v-if=\"tabIndex !== 2\">\r\n\t\t\t\t<image class=\"tab-icon\" :src=\"tabs[2].unselectedIcon\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text :class=\"['tab-text', 2 === tabIndex ? 'active-text' : '']\">{{ tabs[2].name }}</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"tab-item\" @click=\"changeTab(3)\">\r\n\t\t\t\t<image class=\"tab-icon\" :src=\"3 === tabIndex ? tabs[3].selectedIcon : tabs[3].unselectedIcon\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text :class=\"['tab-text', 3 === tabIndex ? 'active-text' : '']\">{{ tabs[3].name }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item\" @click=\"changeTab(4)\">\r\n\t\t\t\t<image class=\"tab-icon\" :src=\"4 === tabIndex ? tabs[4].selectedIcon : tabs[4].unselectedIcon\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text :class=\"['tab-text', 4 === tabIndex ? 'active-text' : '']\">{{ tabs[4].name }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\r\n\t</scroll-view>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport { UxTab } from '@/uni_modules/ux-frame/libs/types/types.uts'\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tacAnimate: '',  // 控制中间tab-icon过渡\r\n\t\t\t\tisShowGif: false,  // 控制长按打卡动图显示\r\n\t\t\t\ttabIndex: 2,\r\n\t\t\t\tcenterIndex: true,//  处于中间页面\r\n\t\t\t\tdirection: 'right',\r\n\t\t\t\tloop: 0,\r\n\t\t\t\tclickShow: false,\r\n\t\t\t\tlongClickShow: false,\r\n\t\t\t\ttabs: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '展架',\r\n\t\t\t\t\t\tselectedIcon: '/static/image/tabBar/选择1.png',\r\n\t\t\t\t\t\tunselectedIcon: '/static/image/tabBar/未选择1.png',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '集市',\r\n\t\t\t\t\t\tselectedIcon: '/static/image/tabBar/选择2.png',\r\n\t\t\t\t\t\tunselectedIcon: '/static/image/tabBar/未选择2.png',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '植物',\r\n\t\t\t\t\t\tselectedIcon: '/static/image/tabBar/选择3.png',\r\n\t\t\t\t\t\tunselectedIcon: '/static/image/tabBar/未选择3.png',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '膳食',\r\n\t\t\t\t\t\tselectedIcon: '/static/image/tabBar/选择4.png',\r\n\t\t\t\t\t\tunselectedIcon: '/static/image/tabBar/未选择4.png',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '我的',\r\n\t\t\t\t\t\tselectedIcon: '/static/image/tabBar/选择5.png',\r\n\t\t\t\t\t\tunselectedIcon: '/static/image/tabBar/未选择5.png',\r\n\t\t\t\t\t}\r\n\t\t\t\t] as UxTab[],\r\n\t\t\t\tpageUrls: [\r\n\t\t\t\t\t'/pages/showWindow/showWindow',\r\n\t\t\t\t\t'/pages/community/community',\r\n\t\t\t\t\t'/pages/health/health',\r\n\t\t\t\t\t'/pages/myPage/myPage'\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchangeTab(index: number) {\r\n\t\t\t\tif(index === this.tabIndex) return\r\n\t\t\t\tthis.tabIndex = index\r\n\t\t\t\tif(index !== 2) {\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.acAnimate = ''\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.acAnimate = 'animate-ac'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandlerTouchstart() {\r\n\t\t\t\tthis.loop = setTimeout(() => {\r\n\t\t\t\t\tthis.loop = 0\r\n\t\t\t\t\t// 执行长按要执行的内容\r\n\t\t\t\t\tconsole.log('长按');\r\n\t\t\t\t\tthis.isShowGif = true\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.isShowGif = false\r\n\t\t\t\t\t},1500)\r\n\t\t\t\t\tthis.clickShow = false\r\n\t\t\t\t\tthis.longClickShow = true\r\n\t\t\t\t}, 500) // 定时的时间\r\n\t\t\t\t// return false\r\n\t\t\t},\r\n\t\t\thandlerTouchmove() {\r\n\t\t\t\t// 清除定时器\r\n\t\t\t\tclearTimeout(this.loop)\r\n\t\t\t\t\r\n\t\t\t\tthis.loop = 0\r\n\t\t\t},\r\n\t\t\thandlerTouchend() {\r\n\t\t\t\t// 清除定时器\r\n\t\t\t\tclearTimeout(this.loop)\r\n\t\t\t\tconsole.log('离开长按');\r\n\t\t\t\tthis.isShowGif = false\r\n\t\t\t\t\r\n\t\t\t\tif (this.loop !== 0) {\r\n\t\t\t\t\t// 单击操作\r\n\t\t\t\t\tconsole.log('单击');\r\n\t\t\t\t\tif(this.centerIndex === true) return\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.centerIndex = true\r\n\t\t\t\t\tthis.tabIndex = 2\r\n\t\t\t\t\tconsole.log(this.tabIndex, this.centerIndex);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.clickShow = true\r\n\t\t\t\t\tthis.longClickShow = false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.acAnimate = 'animate-ac'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.gif {\r\n\t\tposition: fixed;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%);\r\n\t}\r\n\r\n\t.center-img {\r\n\t\twidth: 40px;\r\n\t}\r\n\t.animate-base {\r\n\t\ttransform: scale(0.1);\r\n\t\ttransition: transform .2s;\r\n\t}\r\n\t\r\n\t.animate-ac {\r\n\t\ttransform: scale(1);\r\n\t\ttransition: transform .2s;\r\n\t}\r\n\t.tabbar {\r\n\t\tposition: fixed;\r\n\t\tz-index: 1000;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbackground-color: #fff;\r\n\t\twidth: 100%;\r\n\t\theight: 7%;\r\n\t\toverflow: visible;\r\n\t\t\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t\t\r\n\t\t.tab-item {\r\n\t\t\twidth: 20%;\r\n\t\t\theight: 100%;\r\n\t\t\toverflow: visible;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\t\r\n\t\t\t// 中间的特殊样式\r\n\t\t\t.bg-img {\r\n\t\t\t\twidth: 70px;\r\n\t\t\t\theight: 70px;\r\n\t\t\t\tborder-radius: 70px;\r\n\t\t\t\tbackground-color: $uni-bg-color;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 16px;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t.tab-icon {\r\n\t\t\t\twidth: 24px;\r\n\t\t\t}\r\n\t\t\t.tab-text {\r\n\t\t\t\tmargin-top: 4px;\r\n\t\t\t\tfont-size: 12px;\r\n\t\t\t\tcolor: #808080;\r\n\t\t\t}\r\n\t\t\t.active-text {\r\n\t\t\t\tcolor: $uni-text-color;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>",null],"names":[],"mappings":"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"}