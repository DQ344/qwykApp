{"version":3,"sources":["pages/login/login.uvue","pages/login/login.uvue?type=page","App.uvue"],"sourcesContent":["<template>\n\t<view class=\"login\">\n\t\t<image class=\"bg-img\" src=\"../../static/image/login/bg.png\" mode=\"widthFix\"></image>\n\t\t<view class=\"window flex flex-column  align-center\">\n\t\t\t<view class=\"top flex align-center\">\n\t\t\t\t<image src=\"../../static/image/login/chacha.png\" mode=\"widthFix\" style=\"width: 36rpx;margin-right: 10rpx;\"></image>\n\t\t\t\t<text class=\"title justify-start\">登录</text>\n\t\t\t</view>\n\t\t\t<input v-model=\"loginInfo.username\" class=\"uni-input space\" placeholder=\"账号/手机号\" />\n\t\t\t<input v-model=\"loginInfo.password\" class=\"uni-input space\" password type=\"text\" placeholder=\"密码\" />\n\t\t\t<button class=\"space\" hover-class=\"btn-hover\" @click=\"clickLogin\"\n\t\t\t\tstyle=\"width: 600rpx;height: 76rpx;border-radius: 32rpx;color: #fff;line-height: 76rpx;text-align: center;background-color: #b19983;\">登录</button>\n\t\t\t<view class=\"sub space flex justify-between\">\n\t\t\t\t<view class=\"forget\"><text class=\"text\">忘记密码</text></view>\n\t\t\t\t<view class=\"sign-up\"><text class=\"text\">手机注册</text></view>\n\t\t\t</view>\n\t\t\t<view class=\"icons flex justify-around\">\n\t\t\t\t<image class=\"img-icon\" src=\"../../static/image/login/QQ.png\" mode=\"widthFix\"></image>\n\t\t\t\t<image class=\"img-icon\" src=\"../../static/image/login/weixin.png\" mode=\"widthFix\"></image>\n\t\t\t\t<image class=\"img-icon\" src=\"../../static/image/login/weibo.png\" mode=\"widthFix\"></image>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script lang=\"uts\">\n\timport type { TloginInfo, IToken } from \"@/common/type/user.uts\"\n\timport type { IResponse } from \"@/common/type/http.uts\"\n\timport { BASE_URL } from \"@/config/index.uts\"\n\t\n\t// import Http from \"@/utils/http\"\n\t// import utils from \"@/utils/utils.uts\"\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tloginInfo: {\n\t\t\t\t\tusername: '',\n\t\t\t\t\tpassword: ''\n\t\t\t\t} as TloginInfo\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tclickLogin() {\n\t\t\t\tif((this.loginInfo.username.length <= 0) || (this.loginInfo.password.length <= 0)) return \n\t\t\t\t\n\t\t\t\tconsole.log(this.loginInfo);\n\t\t\t\t// Http.post('/qywk/login/normal', this.loginInfo)\n\t\t\t\tuni.request<IResponse<IToken>>({\n\t\t\t\t\turl: BASE_URL + '/qywk/login/normal',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tusername: this.loginInfo.username,\n\t\t\t\t\t\tpassword: this.loginInfo.password\n\t\t\t\t\t},\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tlet r = res.data\n\t\t\t\t\t\tconsole.log('登录返回信息', r);\n\t\t\t\t\t\tif(r!.code == 200) {\n\t\t\t\t\t\t\tuni.setStorageSync('token', r!.data!.token)\n\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\turl: '/pages/index/index',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"账号或密码错误\",\n\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"账号或密码错误\",\n\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.login {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: $uni-bg-color;\n\t\t.bg-img {\n\t\t\twidth: 750rpx;\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t}\n\t\t.window {\n\t\t\tbox-sizing: border-box;\n\t\t\twidth: 650rpx;\n\t\t\theight: 766rpx;\n\t\t\tpadding: 30rpx;\n\t\t\tmargin: 300rpx auto 0 auto;\n\t\t\tbackground-color: $uni-bg-color-grey;\n\t\t\tborder-radius: 48rpx;\n\n\t\t\t.space {\n\t\t\t\tmargin-bottom: 62rpx;\n\t\t\t}\n\n\t\t\t.top {\n\t\t\t\twidth: 600rpx;\n\t\t\t\tmargin-bottom: 64rpx;\n\n\t\t\t\t.title {\n\t\t\t\t\tfont-size: $uni-font-size-lg;\n\t\t\t\t\tcolor: #937152;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.uni-input {\n\t\t\t\twidth: 600rpx;\n\t\t\t\theight: 76rpx;\n\t\t\t\tborder-radius: 32rpx;\n\t\t\t\tmargin: 0 auto;\n\t\t\t\tpadding-left: 10px;\n\t\t\t\tfont-size: $uni-font-size-sm;\n\t\t\t\tbackground-color: $uni-bg-color;\n\t\t\t}\n\n\t\t\t.uni-input::placeholder {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tmargin-left: 100rpx;\n\t\t\t}\n\n\t\t\t.btn-hover {\n\t\t\t\tbackground-color: #94806e;\n\t\t\t}\n\n\t\t\t.sub {\n\t\t\t\twidth: 600rpx;\n\n\t\t\t\t.text {\n\t\t\t\t\tfont-size: $uni-font-size-sm;\n\t\t\t\t\tcolor: #937152;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.icons {\n\t\t\t\twidth: 500rpx;\n\t\t\t\theight: 56rpx;\n\n\t\t\t\t.img-icon {\n\t\t\t\t\twidth: 56rpx;\n\t\t\t\t\theight: 56rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style>",null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;+BA6DW;+BAbH;+BAYG;+BApBP;;;;;;;;eAvCH,mBAqBO,QAAA,SArBD,WAAM,UAAO;YAClB,mBAAoF,SAAA,SAA7E,WAAM,UAAS,SAAI,8BAAkC,UAAK;YACjE,mBAkBO,QAAA,SAlBD,WAAM,yCAAuC;gBAClD,mBAGO,QAAA,SAHD,WAAM,0BAAuB;oBAClC,mBAAmH,SAAA,SAA5G,SAAI,kCAAsC,UAAK,YAAW,WAAM;oBACvE,mBAA2C,QAAA,SAArC,WAAM,wBAAsB;;gBAEnC,mBAAmF,SAAA,SARtF,gBAQmB,KAAA,SAAS,CAAC,QAAQ,EARrC,aAAA,IAAA,UAAA,aAAA,GAAA,CAAA;oBAQmB,KAAA,SAAS,CAAC,QAAQ,GAAA,SAAA,MAAA,CAAA,KAAA;;;kBAAE,WAAM,mBAAkB,iBAAY;;;;gBACxE,mBAAoG,SAAA,SATvG,gBASmB,KAAA,SAAS,CAAC,QAAQ,EATrC,aAAA,IAAA,UAAA,aAAA,GAAA,CAAA;oBASmB,KAAA,SAAS,CAAC,QAAQ,GAAA,SAAA,MAAA,CAAA,KAAA;;;kBAAE,WAAM,mBAAkB,cAAA,IAAS,UAAK,QAAO,iBAAY;;;;gBAC7F,YACkJ,mBAAA,SAD1I,WAAM,SAAQ,iBAAY,aAAa,aAAO,KAAA,UAAU,EAC/D,WAAM,2IAXV,aAAA,YAW0I,gBAAE,GAAA;2BAAA;wBAAF;qBAAE;;mBAX5I,OAAA,CAAA;;;gBAYG,mBAGO,QAAA,SAHD,WAAM,mCAAgC;oBAC3C,mBAA0D,QAAA,SAApD,WAAM,WAAQ;wBAAC,mBAA8B,QAAA,SAAxB,WAAM,SAAO;;oBACxC,mBAA2D,QAAA,SAArD,WAAM,YAAS;wBAAC,mBAA8B,QAAA,SAAxB,WAAM,SAAO;;;gBAE1C,mBAIO,QAAA,SAJD,WAAM,8BAA2B;oBACtC,mBAAsF,SAAA,SAA/E,WAAM,YAAW,SAAI,8BAAkC,UAAK;oBACnE,mBAA0F,SAAA,SAAnF,WAAM,YAAW,SAAI,kCAAsC,UAAK;oBACvE,mBAAyF,SAAA,SAAlF,WAAM,YAAW,SAAI,iCAAqC,UAAK;;;;;;;;kDAkBrE,WAAU,IACV,WAAU;;;aAKZ,aAAA,MAAa;YACZ,IAAG,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC;gBAAG;;YAEnF,QAAQ,GAAG,CAAC,IAAI,CAAC,SAAS;YAE1B,8CACC,MAAK,WAAW,sBAChB,SAAQ,QACR,OAAM;;oBACL,IAAA,WAAU,GAAK,SAAS,CAAC,QAAQ;oBACjC,IAAA,WAAU,GAAK,SAAS,CAAC,QAAQ;;aACjC,EACD,WAAU,QACV,UAAS,IAAC,IAAQ;gBACjB,IAAI,IAAI,IAAI,IAAI;gBAChB,QAAQ,GAAG,CAAC,UAAU;gBACtB,IAAG,IAAG,IAAI,IAAI,GAAG,EAAE;oBAClB,mBAAmB,SAAS,IAAG,IAAI,GAAE,KAAK;oBAC1C,6BACC,MAAK;gBAEP,OAAO;oBAEN,+BACC,QAAO,WACP,OAAM;gBAER;YAED;cACA,OAAM,IAAC,IAAQ;gBACd,QAAQ,GAAG,CAAC;gBACZ,+BACC,QAAO,WACP,OAAM;YAER;;QAGF;;;sBAvCA"}