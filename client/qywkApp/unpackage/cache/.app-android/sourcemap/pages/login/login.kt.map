{"version":3,"sources":["pages/login/login.uvue","pages/healthQuestion/healthQuestion.uvue?type=page","utils/utils.uts","pages/login/login.uvue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"login\">\r\n\t\t<image class=\"bg-img\" src=\"../../static/image/login/bg.png\" mode=\"widthFix\"></image>\r\n\t\t<view class=\"window flex flex-column  align-center\">\r\n\t\t\t<view class=\"top flex align-center\">\r\n\t\t\t\t<image src=\"../../static/image/login/chacha.png\" mode=\"widthFix\" style=\"width: 36rpx;margin-right: 10rpx;\"></image>\r\n\t\t\t\t<text class=\"title justify-start\">登录</text>\r\n\t\t\t</view>\r\n\t\t\t<input v-model=\"loginInfo.userId\" class=\"uni-input space\" placeholder=\"账号/手机号\" />\r\n\t\t\t<input v-model=\"loginInfo.password\" class=\"uni-input space\" password type=\"text\" placeholder=\"密码\" />\r\n\t\t\t<button class=\"space\" hover-class=\"btn-hover\" @click=\"clickLogin\"\r\n\t\t\t\tstyle=\"width: 600rpx;height: 76rpx;border-radius: 32rpx;color: #fff;line-height: 76rpx;text-align: center;background-color: #b19983;\">登录</button>\r\n\t\t\t<view class=\"sub space flex justify-between\">\r\n\t\t\t\t<view class=\"forget\"><text class=\"text\">忘记密码</text></view>\r\n\t\t\t\t<view class=\"sign-up\"><text class=\"text\" @click=\"register\">注册账号</text></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"icons flex justify-around\">\r\n\t\t\t\t<image class=\"img-icon\" src=\"../../static/image/login/QQ.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t<image class=\"img-icon\" src=\"../../static/image/login/weixin.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t<image class=\"img-icon\" src=\"../../static/image/login/weibo.png\" mode=\"widthFix\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport type { TloginInfo, IToken } from \"@/common/type/user.uts\"\r\n\timport type { IResponse } from \"@/common/type/http.uts\"\r\n\timport { BASE_URL } from \"@/config/index.uts\"\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloginInfo: {\r\n\t\t\t\t\tuserId: '',\r\n\t\t\t\t\tpassword: ''\r\n\t\t\t\t} as TloginInfo\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tregister() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/validateCode/validateCode'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclickLogin() {\r\n\t\t\t\tif((this.loginInfo.userId.length <= 0) || (this.loginInfo.password.length <= 0)) return \r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '登录中'\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(this.loginInfo);\r\n\t\t\t\tuni.request<IResponse<IToken>>({\r\n\t\t\t\t\turl: BASE_URL + '/user/login/normal',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tuserId: this.loginInfo.userId,\r\n\t\t\t\t\t\tpassword: this.loginInfo.password\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet r = res.data\r\n\t\t\t\t\t\tconsole.log('登录返回信息', r);\r\n\t\t\t\t\t\tif(r!.code == 200) {\r\n\t\t\t\t\t\t\tuni.setStorageSync('token', r!.data!.token)\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: '/pages/tabbar/tabbar',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"账号或密码错误\",\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"账号或密码错误\",\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete:() => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.login {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: $uni-bg-color;\r\n\t\t.bg-img {\r\n\t\t\twidth: 750rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t}\r\n\t\t.window {\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\twidth: 650rpx;\r\n\t\t\theight: 766rpx;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tmargin: 300rpx auto 0 auto;\r\n\t\t\tbackground-color: $uni-bg-color-grey;\r\n\t\t\tborder-radius: 48rpx;\r\n\r\n\t\t\t.space {\r\n\t\t\t\tmargin-bottom: 62rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.top {\r\n\t\t\t\twidth: 600rpx;\r\n\t\t\t\tmargin-bottom: 64rpx;\r\n\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: $uni-font-size-lg;\r\n\t\t\t\t\tcolor: #937152;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.uni-input {\r\n\t\t\t\twidth: 600rpx;\r\n\t\t\t\theight: 76rpx;\r\n\t\t\t\tborder-radius: 32rpx;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t\tpadding-left: 10px;\r\n\t\t\t\tfont-size: $uni-font-size-sm;\r\n\t\t\t\tbackground-color: $uni-bg-color;\r\n\t\t\t}\r\n\r\n\t\t\t.uni-input::placeholder {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tmargin-left: 100rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.btn-hover {\r\n\t\t\t\tbackground-color: #94806e;\r\n\t\t\t}\r\n\r\n\t\t\t.sub {\r\n\t\t\t\twidth: 600rpx;\r\n\r\n\t\t\t\t.text {\r\n\t\t\t\t\tfont-size: $uni-font-size-sm;\r\n\t\t\t\t\tcolor: #937152;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.icons {\r\n\t\t\t\twidth: 500rpx;\r\n\t\t\t\theight: 56rpx;\r\n\r\n\t\t\t\t.img-icon {\r\n\t\t\t\t\twidth: 56rpx;\r\n\t\t\t\t\theight: 56rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>",null,null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;+BAsCG;;+BAyBQ;;+BA5BJ;;;;;;;eAlCN,mBAqBO,QAAA,SArBD,WAAM,UAAO;YAClB,mBAAoF,SAAA,SAA7E,WAAM,UAAS,SAAI,8BAAkC,UAAK;YACjE,mBAkBO,QAAA,SAlBD,WAAM,yCAAuC;gBAClD,mBAGO,QAAA,SAHD,WAAM,0BAAuB;oBAClC,mBAAmH,SAAA,SAA5G,SAAI,kCAAsC,UAAK,YAAW,WAAyC,eAAzC,SAAA,WAAA,SAAA,kBAAA;oBACjE,mBAA2C,QAAA,SAArC,WAAM,wBAAsB;;gBAEnC,mBAAiF,SAAA,yBAAjE,KAAA,SAAS,CAAC,MAAM;oBAAhB,KAAA,SAAS,CAAC,MAAM,GAAA,SAAA,MAAA,CAAA,KAAA;gBAAA;kBAAE,WAAM,mBAAkB,iBAAY;;;;gBACtE,mBAAoG,SAAA,yBAApF,KAAA,SAAS,CAAC,QAAQ;oBAAlB,KAAA,SAAS,CAAC,QAAQ,GAAA,SAAA,MAAA,CAAA,KAAA;gBAAA;kBAAE,WAAM,mBAAkB,cAAA,IAAS,UAAK,QAAO,iBAAY;;;;gBAC7F,mBACkJ,UAAA,SAD1I,WAAM,SAAQ,iBAAY,aAAa,aAAO,KAAA,UAAU,EAC/D,WAAqI,eAArI,SAAA,WAAA,UAAA,YAAA,SAAA,mBAAA,SAAA,WAAA,QAAA,iBAAA,SAAA,gBAAA,UAAA,sBAAA,cAAsI,MAAE,EAAA,EAAA;oBAAA;iBAAA;gBACzI,mBAGO,QAAA,SAHD,WAAM,mCAAgC;oBAC3C,mBAA0D,QAAA,SAApD,WAAM,WAAQ;wBAAC,mBAA8B,QAAA,SAAxB,WAAM,SAAO;;oBACxC,mBAA6E,QAAA,SAAvE,WAAM,YAAS;wBAAC,mBAAgD,QAAA,SAA1C,WAAM,QAAQ,aAAO,KAAA,QAAQ,GAAE,QAAI,CAAA,EAAA;4BAAA;yBAAA;;;gBAEhE,mBAIO,QAAA,SAJD,WAAM,8BAA2B;oBACtC,mBAAsF,SAAA,SAA/E,WAAM,YAAW,SAAI,8BAAkC,UAAK;oBACnE,mBAA0F,SAAA,SAAnF,WAAM,YAAW,SAAI,kCAAsC,UAAK;oBACvE,mBAAyF,SAAA,SAAlF,WAAM,YAAW,SAAI,iCAAqC,UAAK;;;;;aActE;;;wBAAA,0BACC,SAAQ,IACR,WAAU;;;aAKZ,WAAA,MAAW;YACV,iCACC,MAAK;QAEP;;aACA,aAAA,MAAa;YACZ,IAAG,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAK,IAAK,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAK,IAAK,CAAC;gBAAG;;YACjF,mCACC,QAAO;YAER,QAAQ,GAAG,CAAC,IAAI,CAAC,SAAS,EAAC;YAC3B,8CACC,MAAK,WAAW,sBAChB,SAAQ,QACR,OAAM;;oBACL,IAAA,SAAQ,GAAK,SAAS,CAAC,MAAM;oBAC7B,IAAA,WAAU,GAAK,SAAS,CAAC,QAAO;;aAChC,EAED,UAAS,IAAC,IAAQ;gBACjB,IAAI,IAAI,IAAI,IAAG;gBACf,QAAQ,GAAG,CAAC,UAAU,GAAE;gBACxB,IAAG,IAAG,IAAG,IAAK,GAAG,EAAE;oBAClB,mBAAmB,SAAS,IAAG,IAAI,GAAE,KAAK;oBAC1C,6BACC,MAAK;gBAEP,OAAO;oBAEN,+BACC,QAAO,WACP,OAAM;gBAER;YAED;cACA,OAAM,IAAC,IAAQ;gBACd,QAAQ,GAAG,CAAC,KAAI;gBAChB,+BACC,QAAO,WACP,OAAM;YAER;cACA,WAAS,MAAM;gBACd;YACD;;QAGF;;;sBAhDA;sBAKA"}